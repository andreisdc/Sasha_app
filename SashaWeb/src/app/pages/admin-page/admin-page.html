<div class="admin-container">
  <div class="admin-header">
    <h1><i class="fas fa-shield-alt"></i> Admin Dashboard</h1>
    <p>Manage users and properties</p>
  </div>

  <div class="admin-content">
    <div class="stats-cards">
      <div class="stat-card">
        <div class="stat-icon users">
          <i class="fas fa-users"></i>
        </div>
        <div class="stat-info">
          <h3>{{ pendingRequests.length }}</h3>
          <span>Pending Verifications</span>
        </div>
      </div>
      <div class="stat-card">
        <div class="stat-icon properties">
          <i class="fas fa-home"></i>
        </div>
        <div class="stat-info">
          <h3>156</h3>
          <span>Properties</span>
        </div>
      </div>
      <div class="stat-card">
        <div class="stat-icon bookings">
          <i class="fas fa-calendar-check"></i>
        </div>
        <div class="stat-info">
          <h3>89</h3>
          <span>Active Bookings</span>
        </div>
      </div>
      <div class="stat-card">
        <div class="stat-icon revenue">
          <i class="fas fa-dollar-sign"></i>
        </div>
        <div class="stat-info">
          <h3>$12,450</h3>
          <span>Total Revenue</span>
        </div>
      </div>
    </div>

    <!-- Loading State -->
    <div *ngIf="isLoading" class="loading-container">
      <div class="spinner"></div>
      <p>Loading pending requests...</p>
    </div>

    <!-- Error Message -->
    <div *ngIf="errorMessage" class="error-message">
      <i class="fas fa-exclamation-circle"></i>
      {{ errorMessage }}
    </div>

    <div class="recent-activity">
      <h2>Pending Verification Requests ({{ pendingRequests.length }})</h2>
      
      <div *ngIf="!isLoading && pendingRequests.length === 0" class="empty-state">
        <i class="fas fa-check-circle"></i>
        <h3>No Pending Requests</h3>
        <p>All verification requests have been processed.</p>
      </div>

      <div *ngIf="!isLoading && pendingRequests.length > 0" class="activity-table">
        <div class="table-header">
          <div class="col-icon">User</div>
          <div class="col-details">Details</div>
          <div class="col-time">Submitted</div>
          <div class="col-actions">Actions</div>
        </div>
        
        <div class="table-body">
          <div *ngFor="let request of pendingRequests" class="table-row">
            <div class="col-icon">
              <div class="icon-wrapper user">
                <i class="fas fa-user"></i>
              </div>
            </div>
            <div class="col-details">
              <div class="item-title">{{ request.firstName }} {{ request.lastName }}</div>
              <div class="item-subtitle">
                <div><strong>CNP:</strong> {{ request.cnp }}</div>
                <div><strong>Address:</strong> {{ request.address }}</div>
              </div>
            </div>
            <div class="col-time">
              <div class="time">{{ getTimeAgo(request.createdAt) }}</div>
              <div class="date">{{ request.createdAt | date:'MMM d, y' }}</div>
            </div>
            <div class="col-actions">
              <button (click)="viewPhoto(request)" class="btn-view">
                <i class="fas fa-eye"></i> View Photo
              </button>
              <button (click)="approveRequest(request)" class="btn-approve">
                <i class="fas fa-check"></i> Approve
              </button>
              <button (click)="rejectRequest(request)" class="btn-reject">
                <i class="fas fa-times"></i> Reject
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Photo Modal -->
    <div *ngIf="isViewingPhoto" class="photo-modal" (click)="closePhoto()">
      <div class="modal-content" (click)="$event.stopPropagation()">
        <div class="modal-header">
          <h3>ID Verification Photo</h3>
          <button class="close-btn" (click)="closePhoto()">&times;</button>
        </div>
        <div class="modal-body">
          <img [src]="currentPhotoUrl" alt="ID Photo" class="photo-image" />
        </div>
      </div>
    </div>
  </div>
</div>